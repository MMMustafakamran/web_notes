\documentclass[8pt, a4paper, landscape]{extarticle}

\usepackage[left=0.1cm,right=0.1cm,top=0.1cm,bottom=0.1cm]{geometry}
\usepackage{multicol}
\usepackage{xcolor}
\usepackage{listings}
\usepackage{enumitem}
\usepackage{titlesec}
\usepackage{amsmath}
\usepackage{microtype} % Better character spacing to save horizontal space

% --- Visual Setup ---
\setlength{\parindent}{0pt}
\setlength{\parskip}{0pt}
\setlength{\columnsep}{0.1cm} % Reduced from 0.2cm

% --- Code Formatting (Rich & Multicolored) ---
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codeblue}{rgb}{0.0,0.3,0.7}
\definecolor{codepurple}{rgb}{0.5,0,0.5}
\definecolor{codeorange}{rgb}{0.8,0.4,0}
\definecolor{codered}{rgb}{0.8,0,0}

\lstdefinelanguage{HTMLCSS}{
  keywords={html, body, div, img, meta, link, script, class, id, src, alt, name, content, href, rel, type, style, table, tr, th, td, form, label, input, select, option, textarea, button, a, br, hr},
  morekeywords=[2]{width, height, max-width, min-width, box-sizing, border-box, auto, display, margin, padding, @media, screen, border, target, value, rows, cols, required, type, selected, disabled, transition, transform, rotate, scale, color, background, font-family, font-size, font-weight, text-align, text-decoration, border-style, border-width},
  sensitive=false,
  morecomment=[l]{<!--},
  morecomment=[s]{<!--}{-->},
  morestring=[b]",
  morestring=[b]'
}

\lstset{
    language=JavaScript,
    backgroundcolor=\color{white},
    basicstyle=\ttfamily\tiny,
    commentstyle=\color{codegreen}\tiny,
    keywordstyle=\color{codeblue}\bfseries\tiny,
    keywordstyle=[2]\color{codeorange}\tiny,
    stringstyle=\color{codepurple}\tiny,
    identifierstyle=\color{black}\tiny,
    breaklines=true,
    tabsize=2,
    frame=single,
    framerule=0.2pt,
    xleftmargin=1pt,
    xrightmargin=1pt,
    aboveskip=0pt,
    belowskip=1pt,
    showstringspaces=false,
    escapeinside={(*@}{@*)}
}

% --- Unified Heading Numbering with Compact Grey Box ---
\newcounter{unifiedsection}
\newcommand{\compactsection}[1]{%
    \stepcounter{unifiedsection}%
    \vspace{0.5pt}% reduced from 1pt
    \noindent%
    {\setlength{\fboxsep}{0.5pt}% reduced from 1pt
    \colorbox{black!10}{%
        \makebox[\dimexpr\linewidth-2\fboxsep\relax][l]{\textbf{\scriptsize \theunifiedsection. #1}}%
    }}%
    \vspace{0.5pt}% reduced from 1pt
}

% --- Major Topic Header (Extreme Compact) ---
\newcommand{\topicsection}[1]{%
    \vspace{2pt}% reduced from 4pt
    \noindent%
    {\setlength{\fboxsep}{1.5pt}% reduced from 2pt
    \colorbox{black}{%
        \makebox[\dimexpr\linewidth-2\fboxsep\relax][c]{\color{white}\textbf{\scriptsize #1}}% font size scriptsize
    }}%
    \vspace{1pt}% reduced from 2pt
}

% Global List settings
\setlist{nosep, leftmargin=*} 

\begin{document}
\footnotesize % Set body font to footnotesize

\begin{multicols*}{3}

\topicsection{HTML FUNDAMENTALS}

\compactsection{Basic Elements \& Attributes}
\textbf{Links:} \texttt{<a href="URL" target="\_blank">} (\texttt{\_blank} opens new tab). \\
\textbf{Void Elements:} No closing tag e.g. \texttt{<img>, <br> (break), <hr> (line)}. \\
\textbf{Images:} \texttt{<img src="path" alt="desc" width="300">} (\texttt{alt} is for accessibility).
\begin{lstlisting}[language=HTMLCSS]
<table border="1">
  <tr> <!-- Table Row -->
    <th>H1</th> <th>H2</th> <!-- Headers (Bold) -->
  </tr>
  <tr>
    <td>D1</td> <td>D2</td> <!-- Data cells -->
  </tr></table>
\end{lstlisting}

\begin{lstlisting}[language=HTMLCSS]
<form>
  <label for="n">Name:</label>
  <input type="text" id="n" name="n" required>
  <!-- Radio: Same 'name' = Only 1 choice -->
  <input type="radio" name="g" value="m"> Male
  <input type="radio" name="g" value="f"> Female
  <!-- Checkbox: Multiple choices allowed -->
  <input type="checkbox" name="s" value="js"> JS
  <!-- Dropdown Menu -->
  <select name="course" required>
    <option value="" disabled selected>Select</option>
    <option value="fs">Full Stack</option>
  </select
  <textarea rows="4" cols="40"></textarea>
  <button type="submit">Submit</button></form>
\end{lstlisting}

\topicsection{CSS FUNDAMENTALS}

\compactsection{Syntax \& Inclusion}
\textbf{Rule:} \texttt{selector \{ property: value; \}}. \\
\textbf{Methods:} 1. \textbf{Inline:} \texttt{<h1 style="color:red;">}. 2. \textbf{Internal:} \texttt{<style>} in head. 3. \textbf{External:} \texttt{<link rel="stylesheet" href="s.css">}. \\
\textbf{Priority:} Inline $>$ Internal $>$ External (Cascading).

\compactsection{Selectors \& Box Model}
\textbf{Tag:} \texttt{p \{ \}} $\mid$ \textbf{ID:} \texttt{\#hdr \{ \}} (Unique) $\mid$ \textbf{Class:} \texttt{.btn \{ \}} (Multiple) $\mid$ \textbf{Group:} \texttt{h1, p \{ \}}. \\
\textbf{Box Model:} 1. \textbf{Content} (Text/Img) $\to$ 2. \textbf{Padding} (Space inside border) $\to$ 3. \textbf{Border} $\to$ 4. \textbf{Margin} (Area outside border).

\compactsection{Visual Properties \& Transitions}
\textbf{Background Shorthand:}
\texttt{background: \#fff url("i.png") no-repeat fixed right top;} \\
\textbf{Links:} \texttt{a:link, a:visited, a:hover, a:active} (Order matters!). \\
\textbf{Transform:} \texttt{rotate(180deg), scale(2), translate(10px)}.

\begin{lstlisting}[language=HTMLCSS]
div {
  width: 300px;;transition: width 2s, transform 2s; /* Smooth animation */
}div:hover {transform: rotate(180deg);}
\end{lstlisting}

\topicsection{EXPRESS JS}

\compactsection{Core Server Setup}
Require Express, initialize, and listen on port.
\begin{lstlisting}
const express = require('express');
const app = express();
const PORT = 3000;
app.get('/', (req, res) => res.send('Hello World!'));
app.listen(PORT, () => console.log(`Run on ${PORT}`));
\end{lstlisting}

\compactsection{Route Path Patterns (Exam)}
\textbf{ab?cd} $\to$ b optional (\texttt{acd, abcd}) $\mid$ \textbf{ab+cd} $\to$ 1+ b (\texttt{abcd, abbcd}) $\mid$ \textbf{ab*cd} $\to$ anything between (\texttt{abxcd, ab12cd}) $\mid$ \textbf{/.*fly\$/} $\to$ ends with "fly" (\texttt{dragonfly}) $\mid$ \textbf{:id} $\to$ param (\texttt{/user/34} $\to$ \texttt{req.params.id=34})

\compactsection{Middleware Flow (Exam Focus)}
Needs (req, res, next). Executes in order. If \texttt{next()} isn't called, request hangs.\\
\textbf{t1/t2 Analysis:} Made to \texttt{/about}:
\begin{enumerate}
    \item \texttt{app.use((req, res, next) $\to$ \{ console.log("t1"); next(); \});} $\to$ output: t1.
    \item \texttt{app.get("/about1", ...)} $\to$ Skipped (no match).
    \item \texttt{app.use((req, res, next) $\to$ \{ console.log("t2"); \});} $\to$ Logs t2. \textbf{No next()!}
    \item \texttt{app.get("/about")} is never reached.
\end{enumerate}

\compactsection{Types of Middleware}
\begin{enumerate}
    \item \textbf{Application:} \texttt{app.use()}. Runs for all.
    \item \textbf{Router:} \texttt{express.Router()}. Modular (e.g., \texttt{/api}).
    \item \textbf{Built-in:} \texttt{express.static}, \texttt{express.json}.
    \item \textbf{Error:} 4 args: \texttt{(err, req, res, next)}.
\end{enumerate}

\compactsection{Response Methods}
\begin{itemize}
    \item \texttt{res.send('text/html')} $\mid$ \texttt{res.json(\{obj\})} (APIs)
    \item \texttt{res.render('view', \{dat\})} (EJS/Templates)
    \item \texttt{res.status(404).send('Msg')} $\mid$ \texttt{res.redirect('/url')}
\end{itemize}

\compactsection{EJS Templating}
Dynamic HTML. Server sends data $\to$ EJS $\to$ Browser.\\
\textbf{Controller (app.js):} \texttt{app.set('view engine', 'ejs');}
\begin{lstlisting}
app.get('/show', (req, res) => {
    res.render('books', { books: [{ title: "Node", price: 20 }] }); 
});
\end{lstlisting}
\textbf{View (books.ejs):}
\begin{lstlisting}[language=HTML]
<% books.forEach(function(book) { %> <li><%= book.title %> - $<%= book.price %></li> <% }); %>
\end{lstlisting}

\compactsection{Handling Data (JSON vs. DB)}
\textbf{Local JSON:} \texttt{res.json(usersArray);} (Immediate)\\
\textbf{MongoDB (Mongoose):}
\begin{lstlisting}
app.get('/u', async (req, res) => {
    try { const u = await User.find({}); res.json(u); }
    catch (e) { res.status(500).send(e.message); }
});
\end{lstlisting}

\topicsection{MONGODB \& MONGOOSE}

NoSQL, document-oriented, written in C++.\\
\textbf{DB:} Container for collections $\mid$ \textbf{Collection:} Doc group.\\
\textbf{Doc:} Key-value pairs $\mid$ \textbf{CRUD:} Create, Read, Update, Delete.

\compactsection{RDBMS vs. MongoDB}
Table $\to$ Coll $\mid$ Row $\to$ Doc $\mid$ Column $\to$ Field $\mid$ Join $\to$ Embed/\texttt{\$lookup} $\mid$ PK $\to$ \texttt{\_id}

\compactsection{Shell Commands}
\texttt{use DB} (switch) $\mid$ \texttt{db.dropDatabase()} $\mid$ \texttt{db.createCollection("n")} $\mid$ \texttt{db.c.drop()} $\mid$ \texttt{db.c.find()}\\
\textit{Note:} \texttt{db.c.copy()} is \textbf{INVALID}.

\compactsection{Query Operators}
\textbf{\$gt:} Greater than (\texttt{\{ age: \{ \$gt: 25 \} \}}) $\mid$ \textbf{\$set:} Partial update $\mid$ \textbf{Regex:} \texttt{\{ addr: /\^S/ \}} (starts with S).

\compactsection{Mongoose Integration}
\begin{lstlisting}
const mongoose = require('mongoose');
mongoose.connect('mongodb://localhost/db');
const Task = mongoose.model('Task', new mongoose.Schema({ title: String, completed: Boolean }));

app.get('/t', async (req, res) => {
  const pending = await Task.find({ completed: false }); 
  res.json(pending);
});
\end{lstlisting}

\compactsection{Relationships (Connect Collections)}
\textbf{1-1 (Nesting):} Child doc inside parent.
\begin{lstlisting}
const userSchema = new mongoose.Schema({
  name: String,
  passport: { number: String, expiryDate: Date } // Embedded/Nested
});
\end{lstlisting}
\textbf{1-Many (Refs):}Use\texttt{mongoose.Types.ObjectId}+ \texttt{ref:"ColName".Use.popu()}.
\begin{lstlisting}
const postSchema = new mongoose.Schema({
  author: { 
    type: mongoose.Schema.Types.ObjectId, // Stores ID
    ref: 'User' // Links to User model
  }
});
const posts = await Post.find().populate('author'); // Joins data
\end{lstlisting}
\textbf{Many-Many (Junction):} Third model holding both IDs.
\begin{lstlisting}
const enrollSchema = new mongoose.Schema({
  student: { type: mongoose.Schema.Types.ObjectId, ref: 'Student' }, // ID Ref
  course: { type: mongoose.Schema.Types.ObjectId, ref: 'Course' }  // ID Ref
});
// Populates both linked documents:
const e = await Enrollment.find().populate('student').populate('course');
\end{lstlisting}

\compactsection{Advanced Node.js/Mongo}
\textbf{Insert:} \texttt{insertOne(obj, cb)} $\mid$ \textbf{Sort:} \texttt{find().sort(\{n:1\})} $\mid$ \textbf{Limit:} \texttt{find().limit(5)} $\mid$ \textbf{\$lookup:} Join pipeline.

\topicsection{NODE.JS FUNDAMENTALS}

\compactsection{Node.js Fundamentals}
Async, single-threaded runtime. \\
\textbf{Libuv:} C++ library for I/O thread pool. \\
\textbf{NPM:} \texttt{npm init} $\mid$ \texttt{npm install -g} (Global) $\mid$ \textbf{dep:} Prod $\mid$ \textbf{devDep:} Testing $\mid$ \textbf{lockfile:} Reproduction $\mid$ \textbf{npm ci:} Fast clean install.

\compactsection{Global \& Utility Modules}
\textbf{OS:} \texttt{platform(), totalmem()} $\mid$ \textbf{Path:} \texttt{resolve(), extname()}\\
\textbf{DNS:} \texttt{lookup(domain, cb)} $\mid$ \textbf{Console:} \texttt{time(), timeEnd()}\\
\textbf{Globals:} \texttt{\_\_dirname} (folder), \texttt{\_\_filename} (file)
\begin{lstlisting}
const os = require('os'), path = require('path'), dns = require('dns');
console.time('r');
dns.lookup('google.com', (e, ip) => { console.log(ip); });
console.timeEnd('r');
\end{lstlisting}

\compactsection{Debugging \& Callbacks}
\textbf{Console:} \texttt{trace()} (stack). \textbf{Callbacks:} Error-First pattern.
\begin{lstlisting}
console.time('c'); let s=0; for(let i=0;i<1e6;i++) s+=i; console.timeEnd('c');
function a() { b(); } function b() { console.trace(); } a();

function fetch(cb) {
  setTimeout(() => { const e = Math.random()>0.5?null:new Error('F'); cb(e, e?null:'D'); }, 10);
}
fetch((e, d) => { if(e) console.error(e.message); else console.log(d); });
\end{lstlisting}

\topicsection{REACT JS}

\compactsection{Fundamentals \& Components}
\textbf{Virtual DOM:} Lightweight copy of Real DOM. React uses "Diffing" to update only changed parts (fast) vs Real DOM (slow reflows/repaints). \\
\textbf{Functional:} Presentations; uses props. \textbf{Class:} Logic/State; needs \texttt{render()}. \\
\textbf{JSX Rules:} 1. Single Root element. 2. \texttt{className} instead of \texttt{class}. 3. JS in \texttt{\{ \}}.

\compactsection{State vs. Props (Exam Heavy)}
\textbf{State:} Internal to component; mutable via \texttt{setState}; triggers re-render on change. \\
\textbf{Props:} Passed from parent (External); read-only (Immutable); triggers re-render when parent changes them.
\textbf{Mutation Rule:} Never do \texttt{this.state.x = 1}. Always:
\begin{lstlisting}
this.setState({ name: 'Yoshi' }); // Triggers re-render
// Arrays: Spread to add, Filter to remove (Avoid direct mutation)
this.setState({ items: [...this.state.items, newItem] }); // Spread (...)
const del = id => this.setState({ items: items.filter(n => n.id !== id) }); // Filter
\end{lstlisting}

\compactsection{Events, Lists \& Keys}
\textbf{this Context:} Handlers lose \textit{this}. Use \textbf{Arrow Functions}. \\
\textbf{Event Listeners:} Pass functions as props. Use \texttt{e.target} for values.
\begin{lstlisting}
// e.target.value captures content of the input
handleChange = (e) => this.setState({ val: e.target.value });
<input onChange={this.handleChange} value={this.state.val} /> // Controlled component

// Key prop helps React track identity of items in list
const list = ninjas.map(n => (
  <div key={n.id}> {n.name} 
    <button onClick={() => deleteN(n.id)}>X</button> // Arrow prevents immediate run
  </div>
));
\end{lstlisting}

\compactsection{Forms \& Data (Axios)}
\textbf{Controlled Comp:} State handles data. Use \texttt{e.preventDefault()} on submit.
\begin{lstlisting}
handleSubmit = (e) => {
  e.preventDefault(); // Stop page refresh
  this.props.addNinja(this.state); // Send data to parent via function prop
}
// API requests usually go in componentDidMount (Classes)
componentDidMount() {
  axios.get(URL).then(res => this.setState({ data: res.data }));
}
\end{lstlisting}

\compactsection{React Router (v5)}
\texttt{<BrowserRouter>} wraps app. \texttt{<Switch>} renders 1st match. \\
\textbf{Link vs NavLink:} Prevent reload. \texttt{NavLink} adds "active" class. \\
\textbf{Params:} Access \texttt{/post/:id} via \texttt{this.props.match.params.id}.

\compactsection{HOC \& Redux}
\textbf{Higher-Order Component:} Func taking component $\to$ returns enhanced component (Loading, Auth).
\begin{lstlisting}
const withLoading = (Wrapped) => { // Takes component
  return function({ isLoading, ...props }) { // Returns new component
    if (isLoading) return <h2>Loading...</h2>; // Conditional logic
    return <Wrapped {...props} />; // Renders original with spread props
  };
};
\end{lstlisting}
\textbf{Redux:} Store (data), Actions (intent), Reducers (how state changes).

\compactsection{�� Exam Strategy: Find the Error}
\begin{itemize}
    \item \textbf{this:} Is a class method missing arrow syntax?
    \item \textbf{setState:} Mutating \texttt{this.state} directly?
    \item \textbf{key:} \texttt{.map()} missing unique key prop?
    \item \textbf{JSX:} Multiple root elements in one return?
    \item \textbf{Props:} Is a child trying to modify \texttt{this.props}? (Read-only!)
\end{itemize}

\topicsection{RESPONSIVE DESIGN \& BOOTSTRAP}

\begin{lstlisting}[language=HTMLCSS]
<meta name="viewport" content="width=device-width, initial-scale=1.0">
\end{lstlisting}

\begin{lstlisting}[language=HTMLCSS]
* { box-sizing: border-box; } // Padding doesn't increase width
img { max-width: 100%; height: auto; } // Responsive image
\end{lstlisting}

\begin{lstlisting}[language=HTMLCSS]
.column { width: 100%; } // Default (Mobile)//media query
@media screen and (min-width: 768px) {
  .column { width: 50%; } // Tablet/Desktop
}
\end{lstlisting}

\compactsection{Bootstrap 5 Grid System}
\textbf{Breakpoints:} \texttt{-sm} (576px), \texttt{-md} (768px), \texttt{-lg} (992px), \texttt{-xl} (1200px), \texttt{-xxl} (1400px). \\
\textbf{Container:} Centers content. \textbf{Row:} Flex wrap. \textbf{Col:} 12-unit grid.
\begin{lstlisting}[language=HTMLCSS]
<div class="container">
  <div class="row">
    <!-- col-12=Mobile, col-lg-3=1/4 Desktop -->
    <div class="col-12 col-lg-3">
      <div class="card">
        <img src="p1.jpg" class="card-img-top">
        <div class="card-body">
          <h5 class="card-title">Profile</h5>
          <p class="card-text">Skills: HTML, CSS</p>
        </div>close all
\end{lstlisting}

\end{multicols*}

\end{document}
